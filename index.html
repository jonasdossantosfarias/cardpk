<html><head><base href="/" />
<title>Análise de Poker Inteligente</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f8f9fa;
        color: #212529;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
    }
    h2 {
        font-size: 1.5rem;
        color: #495057;
        margin: 20px 0 10px 0;
    }
    .deck {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
        padding: 10px;
        background: #ffffff;
        border: 1px solid #ced4da;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
    }
    .card {
        width: 50px;
        height: 70px;
        border-radius: 5px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 14px;
        cursor: pointer;
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        background-color: #ffffff;
        border: 1px solid #ced4da;
    }
    .card.red {
        color: #e74c3c;
    }
    .card.black {
        color: #212529;
    }
    .card:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }
    .selected-hand {
        background-color: #3498db;
        color: white !important;
    }
    .selected-community.pre-flop {
        background-color: #e67e22;
        color: white !important;
    }
    .selected-community.turn {
        background-color: #9b59b6;
        color: white !important;
    }
    .selected-community.river {
        background-color: #e74c3c;
        color: white !important;
    }
    button {
        margin: 10px;
        padding: 10px 15px;
        font-size: 16px;
        border: none;
        background-color: #e67e22;
        color: white;
        border-radius: 5px;
        cursor: pointer;
    }
    button:hover {
        background-color: #d35400;
    }
    .info-container {
        margin: 15px;
        padding: 10px;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        width: 80%;
        max-width: 600px;
    }
</style>
</head>
<body>
    <h2>Análise de Poker Inteligente</h2>
    <div class="info-container">
        <div id="recommendation" style="margin-bottom: 10px; font-size: 16px; color: #343a40;">Recomendação: </div>
        <div id="probabilities" style="margin-bottom: 10px; font-size: 14px; color: #6c757d;">Combinações possíveis: </div>
        <div id="opponent-analysis" style="font-size: 14px; color: #6c757d;">Análise do adversário: </div>
    </div>
    <button id="opponentRaiseButton">Oponente aumentou a aposta</button>
    <div class="deck" id="deck"></div>

<script>
const suits = ['♥', '♦', '♣', '♠'];
const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
let deck = [];
let playerHand = [];
let communityCards = [];
let opponentAggressive = false;

const deckElement = document.getElementById('deck');
const recommendationElement = document.getElementById('recommendation');
const probabilitiesElement = document.getElementById('probabilities');
const opponentAnalysisElement = document.getElementById('opponent-analysis');
const opponentRaiseButton = document.getElementById('opponentRaiseButton');

function initializeDeck() {
    deck = [];
    suits.forEach(suit => {
        values.forEach(value => {
            deck.push(`${value}${suit}`);
        });
    });
    renderDeck();
}

function renderDeck() {
    deckElement.innerHTML = '';
    deck.forEach(card => {
        const cardElement = document.createElement('div');
        cardElement.className = `card ${card.includes('♥') || card.includes('♦') ? 'red' : 'black'}`;
        cardElement.textContent = card;
        cardElement.addEventListener('click', () => toggleCardSelection(card, cardElement));
        deckElement.appendChild(cardElement);
    });
}

function toggleCardSelection(card, cardElement) {
    if (cardElement.classList.contains('selected-hand')) {
        playerHand = playerHand.filter(c => c !== card);
        cardElement.className = `card ${card.includes('♥') || card.includes('♦') ? 'red' : 'black'}`;
    } else if (cardElement.classList.contains('selected-community')) {
        communityCards = communityCards.filter(c => c !== card);
        cardElement.className = `card ${card.includes('♥') || card.includes('♦') ? 'red' : 'black'}`;
    } else if (playerHand.length < 2) {
        playerHand.push(card);
        cardElement.classList.add('selected-hand');
    } else if (communityCards.length < 5) {
        communityCards.push(card);
        let colorClass = '';
        if (communityCards.length <= 3) {
            colorClass = 'selected-community pre-flop';
        } else if (communityCards.length === 4) {
            colorClass = 'selected-community turn';
        } else {
            colorClass = 'selected-community river';
        }
        cardElement.className = `card ${colorClass}`;
    }
    updateGameState();
}

function evaluateHand(cards) {
    if (cards.length === 0) return "Sem cartas";
    
    const ranks = cards.map(card => card.slice(0, -1));
    const suits = cards.map(card => card.slice(-1));
    
    // Contagem de ranks e naipes
    const rankCounts = {};
    ranks.forEach(rank => rankCounts[rank] = (rankCounts[rank] || 0) + 1);
    
    // Verifica par
    if (Object.values(rankCounts).includes(2)) return "Par";
    
    // Verifica trinca
    if (Object.values(rankCounts).includes(3)) return "Trinca";
    
    // Se não encontrou nenhuma combinação
    return "Carta Alta";
}

function updateGameState() {
    const handStrength = evaluateHand([...playerHand, ...communityCards]);
    
    let recommendation = "Selecione suas cartas...";
    if (playerHand.length === 2) {
        recommendation = `Sua mão atual: ${handStrength}`;
        if (handStrength === "Par" || handStrength === "Trinca") {
            recommendation += " - Boa mão para continuar!";
        } else {
            recommendation += " - Jogue com cautela.";
        }
    }

    recommendationElement.textContent = `Recomendação: ${recommendation}`;
    probabilitiesElement.textContent = `Mão atual: ${playerHand.join(', ')}`;
    opponentAnalysisElement.textContent = `Cartas comunitárias: ${communityCards.join(', ')}`;
}

opponentRaiseButton.addEventListener('click', () => {
    opponentAggressive = !opponentAggressive;
    if (opponentAggressive) {
        opponentRaiseButton.style.backgroundColor = '#e74c3c';
        opponentRaiseButton.textContent = 'Oponente está agressivo';
    } else {
        opponentRaiseButton.style.backgroundColor = '#e67e22';
        opponentRaiseButton.textContent = 'Oponente aumentou a aposta';
    }
    updateGameState();
});

// Inicializar o jogo
initializeDeck();
</script>

</body></html>
