<html>
<head>
    <title>Análise de Poker Inteligente</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #212529;
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .deck {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .card {
            width: 50px;
            height: 70px;
            border-radius: 5px;
            border: 1px solid #ced4da;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            background-color: #fff;
            transition: transform 0.2s ease-in-out;
        }
        .card:hover {
            transform: scale(1.1);
        }
        .info-container {
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h2>Análise de Poker Inteligente</h2>
    <div class="info-container">
        <div id="handStrength"></div>
        <div id="probability"></div>
        <div id="recommendation"></div>
        <div id="sequencePossibility"></div>
        <div id="sequenceList"></div>
    </div>
    <div class="deck" id="deck"></div>

    <script>
        const suits = ['♥', '♦', '♣', '♠'];
        const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
        let playerHand = [];
        let communityCards = [];

        function initializeDeck() {
            let deck = [];
            suits.forEach(suit => values.forEach(value => deck.push(`${value}${suit}`)));
            const deckElement = document.getElementById('deck');
            deck.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.textContent = card;
                cardElement.addEventListener('click', () => toggleCardSelection(card, cardElement));
                deckElement.appendChild(cardElement);
            });
        }

        function toggleCardSelection(card, cardElement) {
            if (playerHand.length < 2) {
                playerHand.push(card);
                cardElement.style.backgroundColor = '#3498db';
                cardElement.style.color = '#fff';
            } else if (communityCards.length < 5) {
                communityCards.push(card);
                cardElement.style.backgroundColor = '#e67e22';
                cardElement.style.color = '#fff';
            }
            analyzeGameState();
        }

        function analyzeGameState() {
            const allCards = [...playerHand, ...communityCards];
            const handStrength = evaluateHand(allCards);
            const probability = calculateProbability(handStrength);
            const sequenceInfo = analyzeSequence(allCards);

            document.getElementById('handStrength').innerHTML = `Força da Mão: ${handStrength}`;
            document.getElementById('probability').innerHTML = `Probabilidade de Vitória: ${probability}%`;
            document.getElementById('recommendation').innerHTML = probability > 50 ? 'Recomendação: Aposte' : 'Recomendação: Espere';
            document.getElementById('sequencePossibility').innerHTML = `Possibilidade de Sequência: ${sequenceInfo.possibility}`;
            document.getElementById('sequenceList').innerHTML = `Sequência Construída: ${sequenceInfo.list.join(', ')}`;
        }

        function evaluateHand(cards) {
            if (cards.length < 2) return "Indefinida";
            const highCard = cards.some(card => card.startsWith('A')) ? "Alta" : "Baixa";
            return cards.length >= 5 ? "Sequência" : `Carta ${highCard}`;
        }

        function calculateProbability(handStrength) {
            return handStrength === "Sequência" ? 80 : handStrength.includes("Alta") ? 60 : 30;
        }

        function analyzeSequence(cards) {
            const sortedValues = cards.map(card => values.indexOf(card.slice(0, -1))).sort((a, b) => a - b);
            const possibility = sortedValues.length >= 4 ? "Alta" : "Baixa";
            return { possibility, list: sortedValues.map(v => values[v]) };
        }

        initializeDeck();
    </script>
</body>
</html>
