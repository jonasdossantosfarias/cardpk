<!DOCTYPE html>
<html>
<head>
    <title>Análise de Poker Inteligente</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        h2 {
            text-align: center;
        }
        .info-container {
            margin-top: 20px;
            text-align: center;
        }
        .deck {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        .card {
            width: 50px;
            height: 70px;
            border: 1px solid #ccc;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background-color: white;
        }
        .card.selected {
            background-color: #007bff;
            color: white;
        }
    </style>
</head>
<body>
    <h2>Análise de Poker Inteligente</h2>
    <div class="info-container">
        <div id="handStrength"></div>
        <div id="probability"></div>
        <div id="recommendation"></div>
        <div id="sequencePossibility"></div>
        <div id="sequenceList"></div>
    </div>
    <div class="deck" id="deck"></div>

    <script>
        const suits = ['♥', '♦', '♣', '♠'];
        const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
        let playerHand = [];
        let communityCards = [];

        function initializeDeck() {
            const deck = [];
            suits.forEach(suit => values.forEach(value => deck.push(`${value}${suit}`)));

            const deckElement = document.getElementById('deck');
            deck.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.textContent = card;
                cardElement.onclick = () => toggleCardSelection(card, cardElement);
                deckElement.appendChild(cardElement);
            });
        }

        function toggleCardSelection(card, cardElement) {
            if (playerHand.length < 2 && !playerHand.includes(card)) {
                playerHand.push(card);
                cardElement.classList.add('selected');
            } else if (communityCards.length < 5 && !communityCards.includes(card)) {
                communityCards.push(card);
                cardElement.classList.add('selected');
            }
            analyzeGameState();
        }

        function analyzeGameState() {
            const allCards = [...playerHand, ...communityCards];
            const handStrength = evaluateHand(allCards);
            const sequenceInfo = analyzeSequence(allCards);

            document.getElementById('handStrength').textContent = `Força da Mão: ${handStrength}`;
            document.getElementById('probability').textContent = `Probabilidade de Vitória: ${handStrength === 'Sequência' ? '80%' : '30%'}`;
            document.getElementById('recommendation').textContent = handStrength === 'Sequência' ? 'Recomendação: Aposte' : 'Recomendação: Cautela';
            document.getElementById('sequencePossibility').textContent = `Possibilidade de Sequência: ${sequenceInfo.possibility ? 'Alta' : 'Baixa'}`;
            document.getElementById('sequenceList').textContent = `Sequências Construídas: ${sequenceInfo.list.join(', ')}`;
        }

        function evaluateHand(cards) {
            const ranks = cards.map(card => card.slice(0, -1));
            if (isStraight(ranks)) return 'Sequência';
            if (ranks.includes('A')) return 'Carta Alta';
            return 'Carta Baixa';
        }

        function analyzeSequence(cards) {
            const cardRanks = cards.map(card => values.indexOf(card.slice(0, -1)));
            cardRanks.sort((a, b) => a - b);

            let sequenceList = [];
            let currentSequence = [cardRanks[0]];
            for (let i = 1; i < cardRanks.length; i++) {
                if (cardRanks[i] === cardRanks[i - 1] + 1) {
                    currentSequence.push(cardRanks[i]);
                } else {
                    if (currentSequence.length >= 5) sequenceList.push(currentSequence);
                    currentSequence = [cardRanks[i]];
                }
            }
            if (currentSequence.length >= 5) sequenceList.push(currentSequence);

            return {
                possibility: sequenceList.length > 0,
                list: sequenceList.map(seq => seq.map(rank => values[rank]).join(' - '))
            };
        }

        function isStraight(ranks) {
            const indices = ranks.map(rank => values.indexOf(rank)).sort((a, b) => a - b);
            for (let i = 0; i <= indices.length - 5; i++) {
                if (indices[i + 4] - indices[i] === 4) return true;
            }
            return false;
        }

        initializeDeck();
    </script>
</body>
</html>
